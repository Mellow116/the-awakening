<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Asante Sana Baba</title>

<style>
html, body { margin:0; padding:0; width:100%; height:100%; }

body{
  font-family: Georgia, "Times New Roman", serif;
  background-image: url("../images/light.png");
  background-repeat: no-repeat;
  background-position: center center;
  background-size: cover;
  background-color: #0b0703;
  position: relative;
  padding: 60px 40px 120px;
}

body::before{
  content:"";
  position:absolute;
  inset:0;
  background: rgba(0,0,0,0.42);
  pointer-events:none;
}

.wrap{ position:relative; max-width:720px; }

h1, a{
  color:#f3e6b1;
  text-shadow: 0 2px 8px rgba(0,0,0,0.95), 0 0 2px rgba(0,0,0,0.9);
}

h1{ margin:0 0 18px 0; font-size:34px; }

.back{
  display:inline-block;
  margin-top:26px;
  padding:8px 14px;
  border:1px solid rgba(243,230,177,0.6);
  border-radius:6px;
  text-decoration:none;
}

.back:hover{ background: rgba(243,230,177,0.15); }

/* LOCKED OFFICIAL PLAYER */
.audio-bar{
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  background: rgba(0,0,0,0.90);
  border-top: 1px solid rgba(214,181,108,0.60);
  padding: 12px 16px;
  box-sizing: border-box;
  z-index: 9999;
}

.audio-row{
  display:flex;
  align-items:center;
  gap:12px;
  width:100%;
}

.play{
  width:42px;
  height:42px;
  border-radius:50%;
  border:1px solid #d6b56c;
  background:transparent;
  color:#d6b56c;
  font-size:16px;
  cursor:pointer;
  flex-shrink:0;
}

.play:hover{ background: rgba(214,181,108,0.15); }

.label{
  color:#d6b56c;
  font-size:14px;
  white-space:nowrap;
  opacity:0.95;
}

.scrub{
  flex:1;
  height:6px;
  appearance:none;
  -webkit-appearance:none;
  background: rgba(214,181,108,0.25);
  border-radius:999px;
  outline:none;
  cursor:pointer;
}

.scrub::-webkit-slider-thumb{
  -webkit-appearance:none;
  width:16px;
  height:16px;
  border-radius:50%;
  background:#d6b56c;
  border:2px solid rgba(0,0,0,0.70);
}

.scrub::-moz-range-thumb{
  width:16px;
  height:16px;
  border-radius:50%;
  background:#d6b56c;
  border:2px solid rgba(0,0,0,0.70);
}

.time{
  color:#d6b56c;
  font-size:13px;
  min-width:120px;
  text-align:right;
  opacity:0.90;
}

#audio{ position:absolute; left:-9999px; }
</style>
</head>

<body>

<div class="wrap">
  <h1>Asante Sana Baba</h1>
  <a class="back" href="../songs.html">← Back to Songs</a>
</div>

<audio id="audio" preload="metadata">
  <source src="asante-sana-baba.wav" type="audio/wav">
</audio>

<div class="audio-bar">
  <div class="audio-row">
    <button class="play" id="playBtn" type="button">▶</button>
    <div class="label">Asante Sana Baba</div>
    <input class="scrub" id="scrub" type="range" min="0" max="1000" value="0">
    <div class="time" id="timeReadout">0:00 / 0:00</div>
  </div>
</div>

<script>
const audio = document.getElementById("audio");
const playBtn = document.getElementById("playBtn");
const scrub = document.getElementById("scrub");
const timeReadout = document.getElementById("timeReadout");

let seeking = false;

function fmt(t){
  if (!isFinite(t)) return "0:00";
  const m = Math.floor(t/60);
  const s = Math.floor(t%60);
  return m + ":" + String(s).padStart(2,"0");
}

playBtn.addEventListener("click", () => {
  if (audio.paused) {
    audio.play();
    playBtn.textContent = "❚❚";
  } else {
    audio.pause();
    playBtn.textContent = "▶";
  }
});

audio.addEventListener("loadedmetadata", () => {
  timeReadout.textContent = `0:00 / ${fmt(audio.duration)}`;
});

audio.addEventListener("timeupdate", () => {
  if (!seeking && isFinite(audio.duration) && audio.duration > 0) {
    scrub.value = String(Math.round((audio.currentTime / audio.duration) * 1000));
  }
  timeReadout.textContent = `${fmt(audio.currentTime)} / ${fmt(audio.duration)}`;
});

scrub.addEventListener("input", () => { seeking = true; });

scrub.addEventListener("change", () => {
  if (isFinite(audio.duration) && audio.duration > 0) {
    audio.currentTime = (Number(scrub.value) / 1000) * audio.duration;
  }
  seeking = false;
});

audio.addEventListener("ended", () => {
  playBtn.textContent = "▶";
});
</script>

</body>
</html>